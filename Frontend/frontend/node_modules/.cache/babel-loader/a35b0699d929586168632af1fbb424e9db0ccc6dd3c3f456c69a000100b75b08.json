{"ast":null,"code":"var _jsxFileName = \"D:\\\\Diplomarbeit\\\\Project\\\\Frontend\\\\frontend\\\\src\\\\blocks\\\\shared\\\\picker-containers\\\\emoji-picker-container\\\\EmojiPickerContainer.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef } from \"react\";\nimport ModalChatContainer from \"../../modal-chat-container/ModalChatContainer\";\nimport EmojiPicker from \"../../emoji-picker/EmojiPicker\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction EmojiPickerContainer({\n  setMessage\n}) {\n  _s();\n  const emojiPickerRef = useRef(null);\n  const [isEmojiPickerOpen, setIsEmojiPickerOpen] = useState(false);\n  useOutsideClick(emojiPickerRef, () => setIsEmojiPickerOpen(false), isEmojiPickerOpen);\n  const handleEmojiClick = () => {\n    setIsEmojiPickerOpen(prev => !prev);\n  };\n  const [mainEmojis, setMainEmojis] = useState(() => {\n    try {\n      const saved = localStorage.getItem('mainEmojis');\n      return saved ? JSON.parse(saved) : [];\n    } catch (e) {\n      console.error('Failed to load emojis from localStorage:', e);\n      return [];\n    }\n  });\n  const handleEmojiSelect = emoji => {\n    if (textareaRef.current) {\n      const textarea = textareaRef.current;\n      const start = textarea.selectionStart;\n      const end = textarea.selectionEnd;\n      const value = textarea.value;\n      textarea.value = value.slice(0, start) + emoji + value.slice(end);\n      textarea.focus();\n      textarea.selectionStart = textarea.selectionEnd = start + emoji.length;\n      handleInput();\n      setMessage(textarea.value);\n      setMainEmojis(prevMainEmojis => {\n        const newList = [emoji, ...prevMainEmojis.filter(e => e !== emoji)];\n        const finalList = newList.slice(0, 44);\n        try {\n          localStorage.setItem('mainEmojis', JSON.stringify(finalList));\n        } catch (e) {\n          console.error('Failed to save emojis to localStorage:', e);\n        }\n        return finalList;\n      });\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"button\",\n      onClick: handleEmojiClick,\n      children: isEmojiPickerOpen ? /*#__PURE__*/_jsxDEV(\"img\", {\n        src: smileySelected,\n        alt: \"emoji\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 22\n      }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n        src: smiley,\n        alt: \"emoji\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 67\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }, this), isEmojiPickerOpen && /*#__PURE__*/_jsxDEV(ModalChatContainer, {\n      elementRef: emojiPickerRef,\n      children: /*#__PURE__*/_jsxDEV(EmojiPicker, {\n        onSelect: handleEmojiSelect,\n        mainEmojis: mainEmojis\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true);\n}\n_s(EmojiPickerContainer, \"R7n9qG+aFf57JxuqLJJRCnG+k04=\", true);\n_c = EmojiPickerContainer;\nexport default EmojiPickerContainer;\nvar _c;\n$RefreshReg$(_c, \"EmojiPickerContainer\");","map":{"version":3,"names":["React","useState","useRef","ModalChatContainer","EmojiPicker","jsxDEV","_jsxDEV","Fragment","_Fragment","EmojiPickerContainer","setMessage","_s","emojiPickerRef","isEmojiPickerOpen","setIsEmojiPickerOpen","useOutsideClick","handleEmojiClick","prev","mainEmojis","setMainEmojis","saved","localStorage","getItem","JSON","parse","e","console","error","handleEmojiSelect","emoji","textareaRef","current","textarea","start","selectionStart","end","selectionEnd","value","slice","focus","length","handleInput","prevMainEmojis","newList","filter","finalList","setItem","stringify","children","type","onClick","src","smileySelected","alt","fileName","_jsxFileName","lineNumber","columnNumber","smiley","elementRef","onSelect","_c","$RefreshReg$"],"sources":["D:/Diplomarbeit/Project/Frontend/frontend/src/blocks/shared/picker-containers/emoji-picker-container/EmojiPickerContainer.js"],"sourcesContent":["import React, { useState, useRef } from \"react\";\r\nimport ModalChatContainer from \"../../modal-chat-container/ModalChatContainer\";\r\nimport EmojiPicker from \"../../emoji-picker/EmojiPicker\";\r\n\r\nfunction EmojiPickerContainer({ setMessage }) {\r\n    const emojiPickerRef = useRef(null);\r\n    const [isEmojiPickerOpen, setIsEmojiPickerOpen] = useState(false);\r\n    useOutsideClick(emojiPickerRef, () => setIsEmojiPickerOpen(false), isEmojiPickerOpen);\r\n\r\n    const handleEmojiClick = () => {\r\n        setIsEmojiPickerOpen((prev) => !prev);\r\n    };\r\n\r\n    const [mainEmojis, setMainEmojis] = useState(() => {\r\n        try {\r\n            const saved = localStorage.getItem('mainEmojis');\r\n            return saved ? JSON.parse(saved) : [];\r\n        } catch (e) {\r\n            console.error('Failed to load emojis from localStorage:', e);\r\n            return [];\r\n        }\r\n    });\r\n\r\n\r\n    const handleEmojiSelect = (emoji) => {\r\n        if (textareaRef.current) {\r\n            const textarea = textareaRef.current;\r\n            const start = textarea.selectionStart;\r\n            const end = textarea.selectionEnd;\r\n            const value = textarea.value;\r\n            textarea.value = value.slice(0, start) + emoji + value.slice(end);\r\n            textarea.focus();\r\n            textarea.selectionStart = textarea.selectionEnd = start + emoji.length;\r\n            handleInput();\r\n            setMessage(textarea.value);\r\n            setMainEmojis((prevMainEmojis) => {\r\n                const newList = [emoji, ...prevMainEmojis.filter(e => e !== emoji)];\r\n                const finalList = newList.slice(0, 44);\r\n\r\n                try {\r\n                    localStorage.setItem('mainEmojis', JSON.stringify(finalList));\r\n                } catch (e) {\r\n                    console.error('Failed to save emojis to localStorage:', e);\r\n                }\r\n\r\n                return finalList;\r\n            });\r\n        }\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <button type=\"button\" onClick={handleEmojiClick}>\r\n                {isEmojiPickerOpen ?\r\n                    (<img src={smileySelected} alt=\"emoji\" />) : (<img src={smiley} alt=\"emoji\" />)\r\n                }\r\n            </button>\r\n            {isEmojiPickerOpen && (\r\n                <ModalChatContainer elementRef={emojiPickerRef}>\r\n                    <EmojiPicker onSelect={handleEmojiSelect} mainEmojis={mainEmojis} />\r\n                </ModalChatContainer>\r\n            )}\r\n        </>\r\n    );\r\n}\r\n\r\nexport default EmojiPickerContainer;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,MAAM,QAAQ,OAAO;AAC/C,OAAOC,kBAAkB,MAAM,+CAA+C;AAC9E,OAAOC,WAAW,MAAM,gCAAgC;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAEzD,SAASC,oBAAoBA,CAAC;EAAEC;AAAW,CAAC,EAAE;EAAAC,EAAA;EAC1C,MAAMC,cAAc,GAAGV,MAAM,CAAC,IAAI,CAAC;EACnC,MAAM,CAACW,iBAAiB,EAAEC,oBAAoB,CAAC,GAAGb,QAAQ,CAAC,KAAK,CAAC;EACjEc,eAAe,CAACH,cAAc,EAAE,MAAME,oBAAoB,CAAC,KAAK,CAAC,EAAED,iBAAiB,CAAC;EAErF,MAAMG,gBAAgB,GAAGA,CAAA,KAAM;IAC3BF,oBAAoB,CAAEG,IAAI,IAAK,CAACA,IAAI,CAAC;EACzC,CAAC;EAED,MAAM,CAACC,UAAU,EAAEC,aAAa,CAAC,GAAGlB,QAAQ,CAAC,MAAM;IAC/C,IAAI;MACA,MAAMmB,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,YAAY,CAAC;MAChD,OAAOF,KAAK,GAAGG,IAAI,CAACC,KAAK,CAACJ,KAAK,CAAC,GAAG,EAAE;IACzC,CAAC,CAAC,OAAOK,CAAC,EAAE;MACRC,OAAO,CAACC,KAAK,CAAC,0CAA0C,EAAEF,CAAC,CAAC;MAC5D,OAAO,EAAE;IACb;EACJ,CAAC,CAAC;EAGF,MAAMG,iBAAiB,GAAIC,KAAK,IAAK;IACjC,IAAIC,WAAW,CAACC,OAAO,EAAE;MACrB,MAAMC,QAAQ,GAAGF,WAAW,CAACC,OAAO;MACpC,MAAME,KAAK,GAAGD,QAAQ,CAACE,cAAc;MACrC,MAAMC,GAAG,GAAGH,QAAQ,CAACI,YAAY;MACjC,MAAMC,KAAK,GAAGL,QAAQ,CAACK,KAAK;MAC5BL,QAAQ,CAACK,KAAK,GAAGA,KAAK,CAACC,KAAK,CAAC,CAAC,EAAEL,KAAK,CAAC,GAAGJ,KAAK,GAAGQ,KAAK,CAACC,KAAK,CAACH,GAAG,CAAC;MACjEH,QAAQ,CAACO,KAAK,CAAC,CAAC;MAChBP,QAAQ,CAACE,cAAc,GAAGF,QAAQ,CAACI,YAAY,GAAGH,KAAK,GAAGJ,KAAK,CAACW,MAAM;MACtEC,WAAW,CAAC,CAAC;MACb/B,UAAU,CAACsB,QAAQ,CAACK,KAAK,CAAC;MAC1BlB,aAAa,CAAEuB,cAAc,IAAK;QAC9B,MAAMC,OAAO,GAAG,CAACd,KAAK,EAAE,GAAGa,cAAc,CAACE,MAAM,CAACnB,CAAC,IAAIA,CAAC,KAAKI,KAAK,CAAC,CAAC;QACnE,MAAMgB,SAAS,GAAGF,OAAO,CAACL,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC;QAEtC,IAAI;UACAjB,YAAY,CAACyB,OAAO,CAAC,YAAY,EAAEvB,IAAI,CAACwB,SAAS,CAACF,SAAS,CAAC,CAAC;QACjE,CAAC,CAAC,OAAOpB,CAAC,EAAE;UACRC,OAAO,CAACC,KAAK,CAAC,wCAAwC,EAAEF,CAAC,CAAC;QAC9D;QAEA,OAAOoB,SAAS;MACpB,CAAC,CAAC;IACN;EACJ,CAAC;EAED,oBACIvC,OAAA,CAAAE,SAAA;IAAAwC,QAAA,gBACI1C,OAAA;MAAQ2C,IAAI,EAAC,QAAQ;MAACC,OAAO,EAAElC,gBAAiB;MAAAgC,QAAA,EAC3CnC,iBAAiB,gBACbP,OAAA;QAAK6C,GAAG,EAAEC,cAAe;QAACC,GAAG,EAAC;MAAO;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,gBAAKnD,OAAA;QAAK6C,GAAG,EAAEO,MAAO;QAACL,GAAG,EAAC;MAAO;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE;IAAE;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAE/E,CAAC,EACR5C,iBAAiB,iBACdP,OAAA,CAACH,kBAAkB;MAACwD,UAAU,EAAE/C,cAAe;MAAAoC,QAAA,eAC3C1C,OAAA,CAACF,WAAW;QAACwD,QAAQ,EAAEhC,iBAAkB;QAACV,UAAU,EAAEA;MAAW;QAAAoC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACpD,CACvB;EAAA,eACH,CAAC;AAEX;AAAC9C,EAAA,CA5DQF,oBAAoB;AAAAoD,EAAA,GAApBpD,oBAAoB;AA8D7B,eAAeA,oBAAoB;AAAC,IAAAoD,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}