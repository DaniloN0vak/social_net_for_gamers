{"ast":null,"code":"const serverUrl = process.env.REACT_APP_API_URL;\nexport async function sortImageUrlsByAspectRatio(media) {\n  const loadedImages = await Promise.all(media.map(medium => new Promise(resolve => {\n    const img = new Image();\n    img.src = serverUrl + medium.src;\n    img.onload = () => resolve({\n      src: serverUrl + medium.src,\n      width: img.naturalWidth,\n      height: img.naturalHeight,\n      ratio: img.naturalWidth / img.naturalHeight\n    });\n    img.onerror = () => {\n      console.warn(`Ошибка загрузки изображения: ${serverUrl + medium.src}`);\n      resolve(null);\n    };\n  })));\n  const validImages = loadedImages.filter(img => img !== null);\n  validImages.sort((a, b) => a.ratio - b.ratio);\n  return validImages;\n}","map":{"version":3,"names":["serverUrl","process","env","REACT_APP_API_URL","sortImageUrlsByAspectRatio","media","loadedImages","Promise","all","map","medium","resolve","img","Image","src","onload","width","naturalWidth","height","naturalHeight","ratio","onerror","console","warn","validImages","filter","sort","a","b"],"sources":["D:/Diplomarbeit/Project/Frontend/frontend/src/utils/imageUtils.js"],"sourcesContent":["const serverUrl = process.env.REACT_APP_API_URL;\r\n\r\nexport async function sortImageUrlsByAspectRatio(media) {\r\n  const loadedImages = await Promise.all(\r\n    media.map(medium =>\r\n      new Promise((resolve) => {\r\n        const img = new Image();\r\n        img.src = serverUrl + medium.src;\r\n\r\n        img.onload = () => resolve({\r\n          src: serverUrl + medium.src,\r\n          width: img.naturalWidth,\r\n          height: img.naturalHeight,\r\n          ratio: img.naturalWidth / img.naturalHeight,\r\n        });\r\n\r\n        img.onerror = () => {\r\n          console.warn(`Ошибка загрузки изображения: ${serverUrl + medium.src}`);\r\n          resolve(null);\r\n        };\r\n      })\r\n    )\r\n  );\r\n\r\n  const validImages = loadedImages.filter(img => img !== null);\r\n\r\n  validImages.sort((a, b) => a.ratio -  b.ratio);\r\n\r\n  return validImages;\r\n}\r\n"],"mappings":"AAAA,MAAMA,SAAS,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB;AAE/C,OAAO,eAAeC,0BAA0BA,CAACC,KAAK,EAAE;EACtD,MAAMC,YAAY,GAAG,MAAMC,OAAO,CAACC,GAAG,CACpCH,KAAK,CAACI,GAAG,CAACC,MAAM,IACd,IAAIH,OAAO,CAAEI,OAAO,IAAK;IACvB,MAAMC,GAAG,GAAG,IAAIC,KAAK,CAAC,CAAC;IACvBD,GAAG,CAACE,GAAG,GAAGd,SAAS,GAAGU,MAAM,CAACI,GAAG;IAEhCF,GAAG,CAACG,MAAM,GAAG,MAAMJ,OAAO,CAAC;MACzBG,GAAG,EAAEd,SAAS,GAAGU,MAAM,CAACI,GAAG;MAC3BE,KAAK,EAAEJ,GAAG,CAACK,YAAY;MACvBC,MAAM,EAAEN,GAAG,CAACO,aAAa;MACzBC,KAAK,EAAER,GAAG,CAACK,YAAY,GAAGL,GAAG,CAACO;IAChC,CAAC,CAAC;IAEFP,GAAG,CAACS,OAAO,GAAG,MAAM;MAClBC,OAAO,CAACC,IAAI,CAAC,gCAAgCvB,SAAS,GAAGU,MAAM,CAACI,GAAG,EAAE,CAAC;MACtEH,OAAO,CAAC,IAAI,CAAC;IACf,CAAC;EACH,CAAC,CACH,CACF,CAAC;EAED,MAAMa,WAAW,GAAGlB,YAAY,CAACmB,MAAM,CAACb,GAAG,IAAIA,GAAG,KAAK,IAAI,CAAC;EAE5DY,WAAW,CAACE,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKD,CAAC,CAACP,KAAK,GAAIQ,CAAC,CAACR,KAAK,CAAC;EAE9C,OAAOI,WAAW;AACpB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}