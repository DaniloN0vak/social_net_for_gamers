{"ast":null,"code":"var _jsxFileName = \"D:\\\\Diplomarbeit\\\\Project\\\\Frontend\\\\frontend\\\\src\\\\blocks\\\\shared\\\\gif-picker\\\\GifPicker.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useCallback, useEffect } from 'react';\nimport styles from './GifPicker.module.css';\nimport cross from '../../../assets/images/gif-picker/cross.png';\nimport magnifier from '../../../assets/images/gif-picker/magnifier.png';\nimport watch from '../../../assets/images/gif-picker/watch.png';\nimport savedIcon from '../../../assets/images/gif-picker/selected.svg';\nimport savedIconSelected from '../../../assets/images/gif-picker/selected-selected.svg';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst REACT_APP_TENOR_API_KEY = 'AIzaSyBHdF6XBz7mujjoH1Sj25AiE7sdvZrJonY';\nconst TENOR_API_KEY = REACT_APP_TENOR_API_KEY;\nconst TENOR_ENDPOINT = 'https://tenor.googleapis.com/v2/search';\nconst LOCAL_STORAGE_KEY_RECENT = 'recent_gifs';\nconst LOCAL_STORAGE_KEY_SAVED = 'saved_gifs';\nfunction GifPicker({\n  onSelect,\n  setIsGifPanelOpen\n}) {\n  _s();\n  const [queryInput, setQueryInput] = useState('');\n  const [query, setQuery] = useState('smile');\n  const [gifs, setGifs] = useState([]);\n  const [tab, setTab] = useState('search');\n  const [recentGifs, setRecentGifs] = useState([]);\n  const [savedGifs, setSavedGifs] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    setRecentGifs(JSON.parse(localStorage.getItem(LOCAL_STORAGE_KEY_RECENT)) || []);\n    setSavedGifs(JSON.parse(localStorage.getItem(LOCAL_STORAGE_KEY_SAVED)) || []);\n  }, []);\n  const fetchGifs = useCallback(async searchQuery => {\n    setLoading(true);\n    setError(null);\n    try {\n      const trimmedQuery = searchQuery.trim() || 'smile';\n      const url = `${TENOR_ENDPOINT}?q=${encodeURIComponent(trimmedQuery)}&key=${TENOR_API_KEY}&limit=48`;\n      const response = await fetch(url);\n      if (!response.ok) throw new Error(`Ошибка HTTP: ${response.status}`);\n      const data = await response.json();\n      setGifs(data.results || []);\n      setTab('search');\n    } catch (err) {\n      console.error('Ошибка при загрузке GIF:', err);\n      setError('Не удалось загрузить GIF. Попробуйте позже.');\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n  useEffect(() => {\n    fetchGifs(query);\n  }, [fetchGifs, query]);\n  const handleCloseGifPanel = () => {\n    setIsGifPanelOpen(false);\n  };\n  const handleGifClick = url => {\n    onSelect(url);\n    saveToRecent(url);\n  };\n  const saveToRecent = url => {\n    const updated = [url, ...recentGifs.filter(item => item !== url)].slice(0, 20);\n    setRecentGifs(updated);\n    localStorage.setItem(LOCAL_STORAGE_KEY_RECENT, JSON.stringify(updated));\n  };\n  const toggleSaved = url => {\n    let updated;\n    if (savedGifs.includes(url)) {\n      updated = savedGifs.filter(item => item !== url);\n    } else {\n      updated = [url, ...savedGifs];\n    }\n    setSavedGifs(updated);\n    localStorage.setItem(LOCAL_STORAGE_KEY_SAVED, JSON.stringify(updated));\n  };\n  const renderGifButton = (url, key) => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.gifWrapper,\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => handleGifClick(url),\n      className: styles.gifButton,\n      \"aria-label\": \"\\u0412\\u044B\\u0431\\u0440\\u0430\\u0442\\u044C GIF\",\n      type: \"button\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: url,\n        alt: \"gif\",\n        className: styles.gifImage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      \"aria-label\": savedGifs.includes(url) ? \"Удалить из сохраненных\" : \"Сохранить GIF\",\n      type: \"button\",\n      className: styles.saveButton,\n      onClick: () => toggleSaved(url),\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: savedGifs.includes(url) ? savedIconSelected : savedIcon,\n        alt: savedGifs.includes(url) ? \"сохранено\" : \"сохранить\",\n        className: styles.saveIcon\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }, this)]\n  }, key, true, {\n    fileName: _jsxFileName,\n    lineNumber: 80,\n    columnNumber: 9\n  }, this);\n  const onSearchClick = () => {\n    if (queryInput.trim() === '') {\n      setQuery('smile');\n    } else {\n      setQuery(queryInput.trim());\n    }\n  };\n  const onInputKeyDown = e => {\n    if (e.key === 'Enter') {\n      e.preventDefault();\n      onSearchClick();\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.container,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.header,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.headerImages,\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          \"aria-label\": \"\\u041F\\u043E\\u043A\\u0430\\u0437\\u0430\\u0442\\u044C \\u0441\\u043E\\u0445\\u0440\\u0430\\u043D\\u0435\\u043D\\u043D\\u044B\\u0435 GIF\",\n          onClick: () => setTab('saved'),\n          className: tab === 'saved' ? styles.activeTab : '',\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: savedIcon,\n            alt: \"saved\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          \"aria-label\": \"\\u041F\\u043E\\u043A\\u0430\\u0437\\u0430\\u0442\\u044C \\u043F\\u043E\\u0441\\u043B\\u0435\\u0434\\u043D\\u0438\\u0435 GIF\",\n          onClick: () => setTab('recent'),\n          className: tab === 'recent' ? styles.activeTab : '',\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: watch,\n            alt: \"recent\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.inputContainer,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"\\u041F\\u043E\\u0448\\u0443\\u043A\",\n          value: queryInput,\n          onChange: e => setQueryInput(e.target.value),\n          onKeyDown: onInputKeyDown,\n          className: styles.searchInput,\n          \"aria-label\": \"\\u041F\\u043E\\u0438\\u0441\\u043A GIF\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.inputImages,\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            \"aria-label\": \"\\u041F\\u043E\\u0438\\u0441\\u043A GIF\",\n            className: styles.clickable,\n            onClick: onSearchClick,\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: magnifier,\n              alt: \"search\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            \"aria-label\": \"\\u0417\\u0430\\u043A\\u0440\\u044B\\u0442\\u044C \\u043F\\u0430\\u043D\\u0435\\u043B\\u044C GIF\",\n            onClick: handleCloseGifPanel,\n            className: styles.clickable,\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: cross,\n              alt: \"close\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 13\n    }, this), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.loading,\n      children: \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 25\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.error,\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 23\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.gifGrid,\n      children: [tab === 'search' && gifs.map(gif => renderGifButton(gif.media_formats.tinygif.url, gif.id)), tab === 'recent' && recentGifs.map((url, idx) => renderGifButton(url, `recent-${url}-${idx}`)), tab === 'saved' && savedGifs.map((url, idx) => renderGifButton(url, `saved-${url}-${idx}`))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 121,\n    columnNumber: 9\n  }, this);\n}\n_s(GifPicker, \"v0P+r3aiv+kL7sn4TTI/cD01JWc=\");\n_c = GifPicker;\nexport default GifPicker;\nvar _c;\n$RefreshReg$(_c, \"GifPicker\");","map":{"version":3,"names":["React","useState","useCallback","useEffect","styles","cross","magnifier","watch","savedIcon","savedIconSelected","jsxDEV","_jsxDEV","REACT_APP_TENOR_API_KEY","TENOR_API_KEY","TENOR_ENDPOINT","LOCAL_STORAGE_KEY_RECENT","LOCAL_STORAGE_KEY_SAVED","GifPicker","onSelect","setIsGifPanelOpen","_s","queryInput","setQueryInput","query","setQuery","gifs","setGifs","tab","setTab","recentGifs","setRecentGifs","savedGifs","setSavedGifs","loading","setLoading","error","setError","JSON","parse","localStorage","getItem","fetchGifs","searchQuery","trimmedQuery","trim","url","encodeURIComponent","response","fetch","ok","Error","status","data","json","results","err","console","handleCloseGifPanel","handleGifClick","saveToRecent","updated","filter","item","slice","setItem","stringify","toggleSaved","includes","renderGifButton","key","className","gifWrapper","children","onClick","gifButton","type","src","alt","gifImage","fileName","_jsxFileName","lineNumber","columnNumber","saveButton","saveIcon","onSearchClick","onInputKeyDown","e","preventDefault","container","header","headerImages","activeTab","inputContainer","placeholder","value","onChange","target","onKeyDown","searchInput","inputImages","clickable","gifGrid","map","gif","media_formats","tinygif","id","idx","_c","$RefreshReg$"],"sources":["D:/Diplomarbeit/Project/Frontend/frontend/src/blocks/shared/gif-picker/GifPicker.js"],"sourcesContent":["import React, { useState, useCallback, useEffect } from 'react';\r\nimport styles from './GifPicker.module.css';\r\nimport cross from '../../../assets/images/gif-picker/cross.png';\r\nimport magnifier from '../../../assets/images/gif-picker/magnifier.png';\r\nimport watch from '../../../assets/images/gif-picker/watch.png';\r\nimport savedIcon from '../../../assets/images/gif-picker/selected.svg';\r\nimport savedIconSelected from '../../../assets/images/gif-picker/selected-selected.svg';\r\n\r\nconst REACT_APP_TENOR_API_KEY = 'AIzaSyBHdF6XBz7mujjoH1Sj25AiE7sdvZrJonY';\r\nconst TENOR_API_KEY =  REACT_APP_TENOR_API_KEY;\r\nconst TENOR_ENDPOINT = 'https://tenor.googleapis.com/v2/search';\r\nconst LOCAL_STORAGE_KEY_RECENT = 'recent_gifs';\r\nconst LOCAL_STORAGE_KEY_SAVED = 'saved_gifs';\r\n\r\nfunction GifPicker({ onSelect, setIsGifPanelOpen }) {\r\n    const [queryInput, setQueryInput] = useState('');\r\n    const [query, setQuery] = useState('smile');\r\n    const [gifs, setGifs] = useState([]);\r\n    const [tab, setTab] = useState('search');\r\n    const [recentGifs, setRecentGifs] = useState([]);\r\n    const [savedGifs, setSavedGifs] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [error, setError] = useState(null);\r\n\r\n    useEffect(() => {\r\n        setRecentGifs(JSON.parse(localStorage.getItem(LOCAL_STORAGE_KEY_RECENT)) || []);\r\n        setSavedGifs(JSON.parse(localStorage.getItem(LOCAL_STORAGE_KEY_SAVED)) || []);\r\n    }, []);\r\n\r\n    const fetchGifs = useCallback(async (searchQuery) => {\r\n        setLoading(true);\r\n        setError(null);\r\n        try {\r\n            const trimmedQuery = searchQuery.trim() || 'smile';\r\n            const url = `${TENOR_ENDPOINT}?q=${encodeURIComponent(trimmedQuery)}&key=${TENOR_API_KEY}&limit=48`;\r\n            const response = await fetch(url);\r\n            if (!response.ok) throw new Error(`Ошибка HTTP: ${response.status}`);\r\n            const data = await response.json();\r\n            setGifs(data.results || []);\r\n            setTab('search');\r\n        } catch (err) {\r\n            console.error('Ошибка при загрузке GIF:', err);\r\n            setError('Не удалось загрузить GIF. Попробуйте позже.');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        fetchGifs(query);\r\n    }, [fetchGifs, query]);\r\n\r\n    const handleCloseGifPanel = () => {\r\n        setIsGifPanelOpen(false);\r\n    };\r\n\r\n    const handleGifClick = (url) => {\r\n        onSelect(url);\r\n        saveToRecent(url);\r\n    };\r\n\r\n    const saveToRecent = (url) => {\r\n        const updated = [url, ...recentGifs.filter(item => item !== url)].slice(0, 20);\r\n        setRecentGifs(updated);\r\n        localStorage.setItem(LOCAL_STORAGE_KEY_RECENT, JSON.stringify(updated));\r\n    };\r\n\r\n    const toggleSaved = (url) => {\r\n        let updated;\r\n        if (savedGifs.includes(url)) {\r\n            updated = savedGifs.filter(item => item !== url);\r\n        } else {\r\n            updated = [url, ...savedGifs];\r\n        }\r\n        setSavedGifs(updated);\r\n        localStorage.setItem(LOCAL_STORAGE_KEY_SAVED, JSON.stringify(updated));\r\n    };\r\n\r\n    const renderGifButton = (url, key) => (\r\n        <div key={key} className={styles.gifWrapper}>\r\n            <button\r\n                onClick={() => handleGifClick(url)}\r\n                className={styles.gifButton}\r\n                aria-label=\"Выбрать GIF\"\r\n                type=\"button\"\r\n            >\r\n                <img src={url} alt=\"gif\" className={styles.gifImage} />\r\n            </button>\r\n\r\n            <button\r\n                aria-label={savedGifs.includes(url) ? \"Удалить из сохраненных\" : \"Сохранить GIF\"}\r\n                type=\"button\"\r\n                className={styles.saveButton}\r\n                onClick={() => toggleSaved(url)}\r\n            >\r\n                <img\r\n                    src={savedGifs.includes(url) ? savedIconSelected : savedIcon}\r\n                    alt={savedGifs.includes(url) ? \"сохранено\" : \"сохранить\"}\r\n                    className={styles.saveIcon}\r\n                />\r\n            </button>\r\n        </div>\r\n    );\r\n\r\n    const onSearchClick = () => {\r\n        if (queryInput.trim() === '') {\r\n            setQuery('smile');\r\n        } else {\r\n            setQuery(queryInput.trim());\r\n        }\r\n    };\r\n\r\n    const onInputKeyDown = (e) => {\r\n        if (e.key === 'Enter') {\r\n            e.preventDefault();\r\n            onSearchClick();\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className={styles.container}>\r\n            <div className={styles.header}>\r\n                <div className={styles.headerImages}>\r\n                    <button\r\n                        type=\"button\"\r\n                        aria-label=\"Показать сохраненные GIF\"\r\n                        onClick={() => setTab('saved')}\r\n                        className={tab === 'saved' ? styles.activeTab : ''}\r\n                    >\r\n                        <img src={savedIcon} alt='saved' />\r\n                    </button>\r\n\r\n                    <button\r\n                        type=\"button\"\r\n                        aria-label=\"Показать последние GIF\"\r\n                        onClick={() => setTab('recent')}\r\n                        className={tab === 'recent' ? styles.activeTab : ''}\r\n                    >\r\n                        <img src={watch} alt='recent' />\r\n                    </button>\r\n                </div>\r\n\r\n                <div className={styles.inputContainer}>\r\n                    <input\r\n                        type=\"text\"\r\n                        placeholder=\"Пошук\"\r\n                        value={queryInput}\r\n                        onChange={(e) => setQueryInput(e.target.value)}\r\n                        onKeyDown={onInputKeyDown}\r\n                        className={styles.searchInput}\r\n                        aria-label=\"Поиск GIF\"\r\n                    />\r\n                    <div className={styles.inputImages}>\r\n                        <button\r\n                            type=\"button\"\r\n                            aria-label=\"Поиск GIF\"\r\n                            className={styles.clickable}\r\n                            onClick={onSearchClick}\r\n                        >\r\n                            <img src={magnifier} alt=\"search\" />\r\n                        </button>\r\n\r\n                        <button\r\n                            type=\"button\"\r\n                            aria-label=\"Закрыть панель GIF\"\r\n                            onClick={handleCloseGifPanel}\r\n                            className={styles.clickable}\r\n                        >\r\n                            <img src={cross} alt=\"close\" />\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {loading && <div className={styles.loading}>Загрузка...</div>}\r\n            {error && <div className={styles.error}>{error}</div>}\r\n\r\n            <div className={styles.gifGrid}>\r\n                {tab === 'search' && gifs.map(gif =>\r\n                    renderGifButton(gif.media_formats.tinygif.url, gif.id)\r\n                )}\r\n                {tab === 'recent' && recentGifs.map((url, idx) =>\r\n                    renderGifButton(url, `recent-${url}-${idx}`)\r\n                )}\r\n                {tab === 'saved' && savedGifs.map((url, idx) =>\r\n                    renderGifButton(url, `saved-${url}-${idx}`)\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default GifPicker;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}